<% if @error_message.blank? %>
	$('#job-plan-list').append("<%=j render(partial: "row_job_plan", locals: {job_plan: @job_plan}) %>");
	$('#new_job_plan_job_template_id').val('');
	$('#new_job_plan_job_template_id').trigger('chosen:updated');
	$('#new_job_plan_expect_qty').val('');
	$('#new_job_plan_name').val('');
	$('#new_job_plan_weight').val('');
	$('#new_job_plan_expect').val('');
	$('#job-plan-row-<%= @job_plan.id %>').effect("highlight", 1000);
	
	$('#xnew_job_plan_expect_1').prop('checked', false);
	$('#xnew_job_plan_expect_2').prop('checked', false);
	$('#xnew_job_plan_expect_3').prop('checked', false);
	$('#xnew_job_plan_expect_4').prop('checked', false);
	$('#xnew_job_plan_expect_5').prop('checked', false);
	
	$('#new_job_plan_name').parent().removeClass('has-error');
	$('#new_job_plan_expect').parent().removeClass('has-error');
	$('#new_job_plan_weight').parent().removeClass('has-error');
<% else %>
	
	if($('#new_job_plan_name').val() == ''){
		$('#new_job_plan_name').parent().addClass('has-error');
	}else{
		$('#new_job_plan_name').parent().removeClass('has-error');
	}
	
	if($('#new_job_plan_expect').val() == ''){
		$('#new_job_plan_expect').parent().addClass('has-error');
	}else{
		$('#new_job_plan_expect').parent().removeClass('has-error');
	}
	
	if($('#new_job_plan_weight').val() == ''){
		$('#new_job_plan_weight').parent().addClass('has-error');
	}else{
		$('#new_job_plan_weight').parent().removeClass('has-error');
	}
	
	alert('<%=h @error_message %>\r\n<%= @job_plan.errors.full_messages.join("\\r\\n") %>');
	
<% end %>


init_input_chosen();